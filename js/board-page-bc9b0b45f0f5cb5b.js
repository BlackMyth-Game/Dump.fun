(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{96794:function(e,t,r){Promise.resolve().then(r.bind(r,27669))},27669:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eW}});var s,n,a=r(57437),l=r(63799),i=r(86083),o=r(2265),c=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"p-2 w-full mx-auto",children:(0,a.jsxs)("div",{className:"animate-pulse flex space-x-6",children:[(0,a.jsx)("div",{className:"bg-slate-700 h-32 w-32"}),(0,a.jsxs)("div",{className:"flex-1 space-y-3 py-1",children:[(0,a.jsx)("div",{className:"h-3 bg-slate-700 rounded w-6/12"}),(0,a.jsx)("div",{className:"h-2 bg-slate-700 rounded w-4/12"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:(0,a.jsx)("div",{className:"h-2 bg-slate-700 rounded col-span-1"})}),(0,a.jsx)("div",{className:"h-3 bg-slate-700 rounded"}),(0,a.jsx)("div",{className:"h-3 bg-slate-700 rounded"}),(0,a.jsx)("div",{className:"h-3 bg-slate-700 rounded w-8/12"})]})]})]})})});let d=(e,t)=>{let[r,s]=(0,o.useState)(e),n=(0,o.useRef)(Date.now());return(0,o.useEffect)(()=>{let r=setTimeout(()=>{Date.now()-n.current>=t&&(s(e),n.current=Date.now())},t-(Date.now()-n.current));return()=>clearTimeout(r)},[e,t]),r},u=()=>(0,a.jsx)(a.Fragment,{children:[...Array(50)].map((e,t)=>(0,a.jsx)(c,{},t))});var f=e=>{let{coins:t,lastUpdatedMint:r,loading:s,origin:n,sort:c,pageNumber:f,areAnimationsEnabled:m,onHover:h}=e,{sessionId:p}=(0,i.d)(),[x,g]=(0,o.useState)({}),v=d(x,500),b=(0,o.useRef)(null),y=(0,o.useRef)({}),j=(0,o.useCallback)(e=>{let t={};e.forEach(e=>{t[e.target.id]=e.isIntersecting}),g(e=>({...e,...t}))},[]);return(0,o.useEffect)(()=>(b.current=new IntersectionObserver(j,{root:null,rootMargin:"0px",threshold:1}),()=>{b.current&&b.current.disconnect()}),[j]),(0,o.useEffect)(()=>{Object.entries(y.current).forEach(e=>{let[t,r]=e;r&&b.current&&b.current.observe(r)})},[t]),(0,a.jsxs)("div",{className:"grid grid-col-1 md:grid-cols-2 lg:grid-cols-3 text-gray-400 gap-4",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[t.filter((e,t,r)=>r.findIndex(t=>t.mint===e.mint)===t).map((e,t)=>(0,a.jsx)("div",{ref:t=>{t&&(y.current[e.mint]=t)},id:e.mint,children:(0,a.jsx)(l.CoinPreview,{coin:e,shouldAnimate:r===e.mint||(null==r?void 0:r.split(",").includes(e.mint)),isInViewport:v[e.mint]||!1,impression:p?{itemPosition:t,screenWidth:window.innerWidth,origin:n,sortBy:c,wasAnimationOn:m,sessionId:p,pageNumber:f,marketCap:e.usd_market_cap?Number(e.usd_market_cap.toFixed(2)):0,forYouData:void 0!==e.for_you_id&&void 0!==e.for_you_deg?{forYouId:e.for_you_id,forYouDeg:e.for_you_deg}:void 0}:void 0})},e.mint)),s&&(0,a.jsx)(u,{})]})},m=r(93402),h=r(40875),p=r(22135),x=r(30401),g=r(94508);let v=m.fC;m.ZA;let b=m.B4,y=o.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(m.xz,{ref:t,className:(0,g.cn)("flex h-10 w-full sm:w-fit items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",r),...n,children:[s,(0,a.jsx)(m.JO,{asChild:!0,children:(0,a.jsx)(h.Z,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=m.xz.displayName;let j=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(m.u_,{ref:t,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})})});j.displayName=m.u_.displayName;let w=o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(m.$G,{ref:t,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})})});w.displayName=m.$G.displayName;let N=o.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...l}=e;return(0,a.jsx)(m.h_,{children:(0,a.jsxs)(m.VY,{ref:e=>{null==e||e.addEventListener("touchstart",e=>e.preventDefault()),null==e||e.addEventListener("touchend",e=>e.preventDefault())},className:(0,g.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:[(0,a.jsx)(j,{}),(0,a.jsx)(m.l_,{className:(0,g.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(w,{})]})})});N.displayName=m.VY.displayName,o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(m.__,{ref:t,className:(0,g.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=m.__.displayName;let S=o.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(m.ck,{ref:t,className:(0,g.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(m.wU,{children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(m.eT,{children:s})]})});S.displayName=m.ck.displayName,o.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(m.Z0,{ref:t,className:(0,g.cn)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",r),...s})}).displayName=m.Z0.displayName;var _=r(61994),C=r(64591);let k=(0,o.forwardRef)((e,t)=>{let{sort:r,setSort:s,order:n,setOrder:l,selectedFeed:i,setSelectedFeed:c,showAnimations:d,setShowAnimations:u,includeNsfw:f,setIncludeNsfw:m,feedOptions:h,pauseAnimations:p,isSearchMode:x,searchTerm:g,onClearSearch:j,searchSource:w}=e,k=d&&p,E=window.innerWidth<768;return(0,a.jsx)(o.Suspense,{children:(0,a.jsxs)("div",{ref:t,className:"md:static sticky top-0 z-10 bg-[#1b1d28] py-2 md:pb-2 pb-4 grid gap-2 px-2 w-full left-0",children:[!1,"following"!==i?(0,a.jsxs)("div",{className:"grid sm:flex gap-4 w-full items-center",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)(v,{value:r,onValueChange:e=>{s(e)},children:[(0,a.jsx)(y,{"aria-label":"Sort",className:"bg-green-300 text-black border-none focus:border-none active:border-none",children:(0,a.jsx)(b,{})}),(0,a.jsxs)(N,{className:"bg-green-300",children:[(0,a.jsx)(S,{value:"featured",children:x?"back to featured \uD83D\uDD25":"sort: featured \uD83D\uDD25"}),(0,a.jsx)(S,{value:"last_trade_timestamp",children:"sort: last trade"}),(0,a.jsx)(S,{value:"created_timestamp",children:"sort: creation time"}),(0,a.jsx)(S,{value:"last_reply",children:"sort: last reply"}),(0,a.jsx)(S,{value:"market_cap",children:"sort: market cap"})]})]}),"currently_live"!==r&&"featured"!==r&&"trending"!==r&&"last_trade_timestamp"!==r&&"last_reply"!==r&&"market_cap"!==r&&(0,a.jsxs)(v,{value:n,onValueChange:l,children:[(0,a.jsx)(y,{"aria-label":"Order",className:"bg-green-300 text-black border-none focus:border-none active:border-none",children:(0,a.jsx)(b,{})}),(0,a.jsxs)(N,{className:"bg-green-300",children:[(0,a.jsx)(S,{value:"ASC",children:"order: asc"}),(0,a.jsx)(S,{value:"DESC",children:"order: desc"})]})]})]}),(0,a.jsxs)("div",{className:"md:grid flex flex-wrap text-sm md:gap-1 gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-1 h-fit items-center text-white",children:[(0,a.jsx)("div",{children:"show animations:"}),(!k||E)&&(0,a.jsxs)("div",{className:"flex gap-1 w-[72px]",children:[(0,a.jsx)("div",{onClick:()=>u(!d),className:(0,_.Z)("cursor-pointer px-1 rounded",d&&!k&&"bg-green-300 text-black",(!d||k)&&"hover:bg-gray-800 text-gray-500"),children:"on"}),(0,a.jsx)("div",{onClick:()=>u(!d),className:(0,_.Z)("cursor-pointer px-1 rounded",!d&&"bg-green-300 text-black",d&&"hover:bg-gray-800 text-gray-500"),children:"off"})]}),k&&(0,a.jsx)("div",{className:(0,_.Z)("px-1 rounded","bg-green-300 text-black","w-[72px]"),children:(0,a.jsxs)("span",{className:"inline-flex items-center",children:[(0,a.jsx)(C.Z,{size:10,strokeWidth:2.5}),(0,a.jsx)("span",{className:"ml-1",children:"paused"})]})})]}),(0,a.jsxs)("div",{className:"flex gap-1 h-fit items-center text-white",children:[(0,a.jsx)("div",{children:"include nsfw:"}),(0,a.jsx)("div",{onClick:()=>m(!f),className:(0,_.Z)("cursor-pointer px-1 rounded",f&&"bg-green-300 text-black",!f&&"hover:bg-gray-800 text-gray-500"),children:"on"}),(0,a.jsx)("div",{onClick:()=>m(!f),className:(0,_.Z)("cursor-pointer px-1 rounded",!f&&"bg-green-300 text-black",f&&"hover:bg-gray-800 text-gray-500"),children:"off"})]})]})]}):null]})})});k.displayName="FeedControls";var E=r(72650),A=r(54559);let T=()=>{let{address:e}=(0,E.U)(),[t,r]=(0,o.useState)(!1),[s,n]=(0,o.useState)([]),a=async()=>{if(e){r(!0);try{let t=await fetch("".concat((0,A.o)(),"/timeline/").concat(e)).then(e=>e.json());n(t)}catch(e){console.error(e)}finally{r(!1)}}};return(0,o.useEffect)(()=>{a()},[e]),{feed:s,loading:t}};var R=r(90225),M=r(15452),D=r(27581),I=r(44373),P=r(27648),L=r(12574),O=r(14241),F=r(5753),Z=r(24569);let W=e=>{let{trade:t}=e,{ipfsPrefix:r}=(0,R.y)(),{mint:s,name:n,symbol:l,description:i,image_uri:o,username:c,profile_image:d,is_buy:u,sol_amount:f,user:m}=t,h=(0,g.Py)(o,r);return(0,a.jsx)(P.default,{href:"/coin/".concat(s),children:(0,a.jsxs)("div",{className:"max-h-[300px] overflow-hidden h-fit p-2 flex border border-transparent hover:border-white gap-2 w-full text-gray-400",children:[(0,a.jsx)("div",{className:"min-w-32",children:(0,a.jsx)(F.default,{width:128,height:128,className:"mr-4 w-32 h-auto",src:h,alt:n})}),(0,a.jsxs)("div",{className:"gap-1 grid h-fit",children:[(0,a.jsxs)("div",{className:(0,_.Z)("text-xs flex items-start w-fit flex-wrap",u?"text-green-300":"text-red-300"),children:[(0,a.jsx)(Z.R,{username:c,profile_image:d,address:m}),(0,a.jsxs)("div",{children:[u?"bought":"sold"," ",(0,M.s)(new I.BN(f)).toFixed(4)," SOL"]})]}),(0,a.jsxs)("span",{className:"text-sm w-full",style:{overflowWrap:"break-word",wordBreak:"break-all"},children:[(0,a.jsxs)("span",{className:"font-bold",children:[n," (",l,"):"," "]}),i]})]})]})})},B=()=>{let{address:e}=(0,E.U)(),{feed:t,loading:r}=T(),{executeV3:s}=(0,D.xX)();return(0,a.jsxs)("div",{className:"grid gap-4 text-white",children:[!t.length&&e&&(0,a.jsx)("div",{children:"follow some of your friends to start curating your feed"}),e&&(0,a.jsx)(O.V,{address:e,getCaptchaToken:s}),!e&&(0,a.jsx)("div",{children:"connect your wallet to see a feed of your friends"}),r?(0,a.jsxs)("div",{className:"flex gap-2 text-white items-center",children:["loading... ",(0,a.jsx)(L.iT,{color:"white",height:20,width:20})]}):(0,a.jsx)("div",{className:"grid grid-col-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,a.jsx)(W,{trade:e},e.signature))})]})};function Y(){return(0,a.jsx)(D.pm,{siteKey:"6LcmKsYpAAAAABAANpgK3LDxDlxfDCoPQUYm3NZI",type:"v3",isEnterprise:!0,explicit:{badge:"hidden"},children:(0,a.jsx)(B,{})})}var U=r(28349),J=r(51737),K=r(25103),z=r(33145),V=r(91846),q=r.n(V),G=r(55693);let H=e=>{let{king:t}=e,{ipfsPrefix:r}=(0,R.y)(),[s,n]=(0,o.useState)(!1),[l,i]=(0,o.useState)("");return(0,o.useEffect)(()=>{t&&t.video_uri?(n(!0),i(t.video_uri)):t&&(n(!1),i((0,g.Py)(null==t?void 0:t.image_uri,r)))},[t]),(0,a.jsxs)("div",{className:"text-white max-w-[800px] grid gap-2",children:[(0,a.jsx)(z.default,{src:"/king-of-the-hill.png",alt:"king of the hill",width:166,height:32,className:"h-8 justify-self-center"}),(0,a.jsx)(P.default,{href:"/".concat(t.mint),children:(0,a.jsxs)("div",{className:"p-2 flex border hover:border-white gap-2 w-full max-h-[300px] overflow-hidden ".concat(t.is_currently_live?"border-2 border-green-300 rounded-lg":"border-transparent"),children:[(0,a.jsx)("div",{className:"min-w-20",children:s?(0,a.jsx)(q(),{url:l,width:80,height:80,controls:!0,muted:!0,playing:!0,playsinline:!0}):(0,a.jsx)(F.default,{width:200,height:200,className:"mr-4 w-20 h-auto",src:l,alt:t.name})}),(0,a.jsxs)("div",{className:"gap-1 grid h-fit",children:[t.is_currently_live&&(0,a.jsx)("div",{className:"w-fit px-1 bg-green-300 text-green-800 text-xs font-bold rounded dark:bg-red-900 dark:text-red-300",children:"currently live streaming!"}),(0,a.jsxs)("div",{className:"text-xs text-blue-200 flex items-center gap-2",children:[(0,a.jsx)("div",{children:"created by"}),(0,a.jsx)(Z.R,{username:t.username,profile_image:t.profile_image,address:t.creator}),(0,a.jsx)("span",{children:(0,K.n)(t.created_timestamp,{shorthand:!0,strict:!0})})]}),!!t.usd_market_cap&&(0,a.jsxs)("div",{className:"text-xs text-green-300 flex gap-1",children:["market cap: $"+(0,J.u)(Math.round(t.usd_market_cap)),(t.king_of_the_hill_timestamp||t.raydium_pool)&&(0,a.jsxs)("div",{className:"flex text-green-500",children:["["," ",t.raydium_pool&&(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.jsx)(G.C,{content:(0,a.jsx)(z.default,{src:"/migrated.png",alt:"raydium badge",width:18,height:18}),popoverText:"raydium badge"})}),t.king_of_the_hill_timestamp&&(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.jsx)(G.C,{content:(0,a.jsx)(z.default,{src:"/king.png",alt:"king of the hill badge",width:18,height:18}),popoverText:"king of the hill badge"})}),"]"]})]}),(0,a.jsxs)("p",{className:"text-xs flex items-center gap-2",children:["replies: ",t.reply_count||0,t.nsfw&&(0,a.jsx)("span",{className:"text-red-400",children:"[NSFW]"})]}),(0,a.jsxs)("p",{className:"text-sm w-full font-bold",children:[t.name," [",t.symbol,"]"]})]})]})})]})};var $=r(62869),Q=r(40394);let X=()=>{let{includeNsfw:e}=(0,Q.i)(!1),[t,r]=(0,o.useState)(),[s,n]=(0,o.useState)(!0),a=async()=>{r(await fetch("".concat((0,A.o)(),"/coins/king-of-the-hill?includeNsfw=").concat(e)).then(e=>e.json())),n(!1)};return(0,o.useEffect)(()=>{a()},[e]),{king:t,loading:s}};var ee=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-pulse h-8 bg-slate-700 rounded w-[166px] m-auto mb-3 max-w-sm"}),(0,a.jsx)("div",{className:"p-2 max-w-80 w-full mx-auto",children:(0,a.jsxs)("div",{className:"animate-pulse flex space-x-6",children:[(0,a.jsx)("div",{className:"bg-slate-700 h-20 w-20"}),(0,a.jsxs)("div",{className:"flex-1 space-y-3 py-1",children:[(0,a.jsx)("div",{className:"h-3 bg-slate-700 rounded w-11/12"}),(0,a.jsx)("div",{className:"h-2 bg-slate-700 rounded"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:(0,a.jsx)("div",{className:"h-2 bg-slate-700 rounded col-span-1"})}),(0,a.jsx)("div",{className:"h-3 bg-slate-700 rounded"})]})]})]})})]}),et=()=>{let{king:e,loading:t}=X();return(0,a.jsxs)("div",{className:"flex flex-col items-center w-full mt-4",children:[(0,a.jsx)($.z,{variant:"ghost",asChild:!0,className:"mb-4 text-2xl text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50",children:(0,a.jsx)(P.default,{href:"/create",children:"[start a new coin]"})}),!e&&t?(0,a.jsx)(ee,{}):e&&(0,a.jsx)(H,{king:e})]})},er=e=>{let{offset:t,setOffset:r,coins:s,LIMIT:n}=e;return(0,a.jsx)("div",{className:"w-full flex justify-center mt-4",children:(0,a.jsx)("div",{className:"justify-self-end mb-20",children:(0,a.jsxs)("div",{className:"flex justify-center space-x-2 text-slate-50",children:[(0,a.jsx)("button",{disabled:0==t,onClick:()=>{r(t-n)},className:"text-sm ".concat(0==t?"text-slate-400 cursor-not-allowed":"text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50"),children:"[ << ]"}),(0,a.jsx)("span",{children:Math.ceil(t/n)+1}),(0,a.jsx)("button",{disabled:(null==s?void 0:s.length)%n!=0,onClick:()=>{r(t+n)},className:"text-sm ".concat((null==s?void 0:s.length)%n!=0?"text-slate-400 cursor-not-allowed":"text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50"),children:"[ >> ]"})]})})})},es=r(95186);(s=n||(n={})).SEARCH_BAR="search_bar",s.META_LIST="meta_list";let en=e=>{let{fetchCoins:t,searchTerm:r,setSearchTerm:s,onSearch:l,onClear:i,shouldTriggerSearch:c,onSearchTriggered:d,isSearchMode:u,searchSource:f}=e,[m,h]=(0,o.useState)(!1),{executeV3:p,isLoading:x}=(0,D.xX)(),g=(0,o.useRef)(null),v=u&&f===n.SEARCH_BAR;(0,o.useEffect)(()=>{c&&d&&(b(),d())},[c,d]);let b=async()=>{if(p){h(!0);try{let e=await p("search");await t(r||"",e),l()}catch(e){console.error("failed to fetch",e)}finally{h(!1)}}};return(0,a.jsxs)("form",{className:"w-[100vw] max-w-[450px]",style:{display:"grid",gridTemplateColumns:v?"1fr auto auto":"1fr auto",gap:"0.5rem"},onSubmit:e=>{var t;e.preventDefault(),b(),null===(t=g.current)||void 0===t||t.blur()},children:[(0,a.jsx)(es.I,{type:"search",value:r,ref:g,name:"search-token",id:"search-token",onChange:e=>{s(e.target.value)},placeholder:"search for token",autoComplete:"search-token","aria-label":"Search for token",className:"p-2 border border-gray-300 w-full bg-green-300 text-black border-none focus:border-none active:border-none",enterKeyHint:"search"}),v&&(0,a.jsx)("button",{className:"bg-green-300 text-black p-2 rounded hover:bg-green-500",onClick:e=>{e.preventDefault(),i()},type:"button",children:"clear"}),(0,a.jsx)("button",{className:"bg-green-300 text-black p-2 rounded hover:bg-green-500",disabled:m,type:"submit",children:m?(0,a.jsx)(L.iT,{height:20,width:20}):"search"})]})};var ea=e=>{let{fetchCoins:t,setSearchTerm:r,searchTerm:s,onSearch:n,onClear:l,shouldTriggerNewSearch:i,onSearchTriggered:o,isSearchMode:c,searchSource:d}=e;return(0,a.jsx)(D.pm,{siteKey:"6LcmKsYpAAAAABAANpgK3LDxDlxfDCoPQUYm3NZI",type:"v3",isEnterprise:!0,explicit:{badge:"hidden"},children:(0,a.jsx)("div",{className:"flex px-2 sm:p-2 justify-center",children:(0,a.jsx)(en,{fetchCoins:t,setSearchTerm:r,searchTerm:s,onSearch:n,onClear:l,shouldTriggerSearch:i,onSearchTriggered:o,isSearchMode:c,searchSource:d})})})},el=r(36510),ei=r(94743),eo=r(69272);function ec(e){let{decodedJwt:t}=(0,E.U)();return{isTestGroup:(0,o.useMemo)(()=>{var r;let s=null==t?void 0:null===(r=t.eras)||void 0===r?void 0:r.find(t=>t.era===e);return!!s&&"test"===s.group},[t,e])}}let ed=(e,t)=>e.filter(e=>!t.has(e)),eu=(e,t)=>{let{weightCalculator:r,rangeMap:s,excludedCoins:n}=t,a=n?ed(e,n):e;if(0===a.length)return new Map;let l=a.map((e,t)=>{if(s){let[t,r]=s.get(e)||[0,0];return r-t}return r?r(t,a):0}),i=l.reduce((e,t)=>e+t,0),o=0;return new Map(a.map((e,t)=>{let r=0===i?1/a.length:l[t]/i;return[e,[o,o+=r]]}))},ef=(e,t,r)=>{for(let s of e){let[e,n]=t.get(s)||[0,0];if(r>=e&&r<n)return s}return console.error("Coin selection failed"),e[0]},em={selectRandomCoinByWeight:(e,t,r)=>{let s=eu(e,{rangeMap:t,excludedCoins:r}),n=Array.from(s.keys());if(0!==n.length)return ef(n,s,Math.random())},getCategorisedCoinArrays:e=>{let t=e.filter(e=>void 0!==e.for_you_id&&e.for_you_id%7==0),r=e.filter(e=>!t.includes(e)),s=r.filter(e=>e.raydium_pool),n=r.filter(e=>!e.raydium_pool);return{trendingCoins:t,nonTrendingCoins:r,graduatedCoins:s,customForYouCoins:n}},getGraduatedCoinSelectionProbability:e=>{let t=.25;return e.length<=2?t=.66:e.length<=5&&(t=.5),t},shouldSelectTrendingCoin:(e,t)=>(null==t?void 0:t.isTestGroup)?Math.random()<(e>5?.85:.9):Math.random()<(e>5?.8:.85)},eh=(e,t)=>eu(e,{weightCalculator:t}),ep=e=>e<5?.08:e<10?.04:e<20?.02:e<40?.01:0,ex={...em,createCoinWeightMapping:e=>eh(e,e=>ep(e))},eg=e=>e<40?Math.exp(-(.1*e)):0,ev={...em,createCoinWeightMapping:e=>eh(e,eg)};var eb=r(1708),ey=r(18976),ej=r(53974),ew=r(72694);let eN="terminal";var eS=r(32648),e_=r(63861);let eC=e=>fetch(e).then(e=>e.json()),ek=()=>(0,e_.ZP)("".concat((0,A.o)(),"/metas/current"),eC,{refreshInterval:3e5,revalidateOnFocus:!1,keepPreviousData:!0,dedupingInterval:3e5,suspense:!0,fallbackData:[]});var eE=r(32489);let eA=(0,o.memo)(e=>{let{onSearch:t,clearMeta:r}=e,{data:s}=ek(),[n,l]=(0,o.useState)(null);(0,o.useEffect)(()=>{r&&l(null)},[r]);let i=e=>{n===e?(l(null),t(null)):(l(e),t(e))};return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 py-4 bg-[#1b1d28] h-[72px]",children:[(0,a.jsx)("div",{className:"text-[#9da3ae] text-sm",children:"trending:"}),(0,a.jsx)("div",{className:"overflow-x-auto flex-1 scrollbar-hidden",children:(0,a.jsx)("div",{className:"flex space-x-2 w-fit",children:s&&s.map?s.map(e=>{let t=n===e.word;return(0,a.jsxs)("button",{onClick:()=>i(e.word),className:(0,g.cn)("flex h-10 justify-center items-center gap-1 px-3 py-2 rounded-md transition-colors whitespace-nowrap text-[14px]",t?"[background:#87EFAC] text-black":"[background:#1F2937] text-[#F8FAFC] hover:[background:#374151]"),children:[e.word_with_strength,t&&(0,a.jsx)(eE.Z,{className:"h-3.5 w-3.5"})]},e.word)}):null})})]})});eA.displayName="MetasContent";let eT=(0,o.memo)(e=>(0,a.jsx)(o.Suspense,{fallback:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 py-4 bg-[#1b1d28]",children:[(0,a.jsx)("div",{className:"text-[#9da3ae] text-sm",children:"trending:"}),(0,a.jsx)("div",{className:"flex gap-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"h-10 w-20 rounded-md [background:#1F2937] animate-pulse"},t))})]}),children:(0,a.jsx)(eA,{...e})}));eT.displayName="MetasList";var eR=r(20691),eM=r(9659);function eD(e,t){let{includeNsfw:r,sort:s,offset:n,order:a,showAnimations:l,searchTerm:i,selectedFeed:o}=t,c=!e.nsfw||r&&e.nsfw,d=o===eN,u=""===i||[e.name,e.symbol,e.mint].some(e=>e.includes(i));return c&&"last_reply"===s&&0===n&&"DESC"===a&&l&&d&&u}function eI(e,t){let{includeNsfw:r,bumpOrderSort:s,currentlyLiveSort:n,creationTimeSort:a,offset:l,order:i,showAnimations:o,searchTerm:c,lastProcessedTrade:d}=t,u=!e||!e.nsfw||r&&e.nsfw,f=(s||n&&(null==e?void 0:e.is_currently_live))&&d.current!==e||a,m=""===c||[e.name,e.symbol,e.mint].some(e=>e.includes(c));return u&&f&&0===l&&"DESC"===i&&o&&m}function eP(e,t,r){let{order:s,sort:n}=r,a=e.findIndex(e=>e.mint===t.mint),l=[...e];if(-1!==a){let[e]=l.splice(a,1);"DESC"===s?l.unshift(e):l.push(e)}else{let e={...t,image_uri:(0,g.Py)(t.image_uri,r.ipfsPrefix),sortValue:n};l.unshift(e)}return l.length>r.LIMIT&&("DESC"===s?l.pop():l.shift()),l.filter((e,t,r)=>r.findIndex(t=>t.mint===e.mint)===t)}function eL(e,t,r){if(null==e||!t(e,r))return;let{setCoins:s,setLastUpdatedMint:n}=r;s(eP(r.coins,e,r)),n(e.mint),r.lastProcessedTrade.current=e,setTimeout(()=>n(""),700)}let eO="featured",eF="DESC",eZ=window.innerWidth<768;function eW(){let{isTestGroup:e}=ec("SEARCHv1.0METASv1.0"),[t,r]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null),{decodedJwt:c}=(0,E.U)(),[d,u]=(0,ew._)("last-sort-update",0),[m,h]=(0,ew._)("coin_sort",eO),[p,x]=(0,ew._)("coins_order",eF),[g,v]=(0,o.useState)(""),[b,y]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1),[N,S]=(0,o.useState)(m||eO),[_,C]=(0,o.useState)(p||eF),[A,T]=(0,o.useState)(0),M=(0,ej.O_)(),{includeNsfw:D,setIncludeNsfw:I}=(0,Q.i)(!1),[P,L]=(0,o.useState)(eN),{loading:O,coins:F,setCoins:Z,fetchCoins:W}=(0,eo.Y)({sort:m,order:p,offset:A,limit:50,includeNsfw:D,isSearchMode:j}),{latestTrade:B}=(0,ey.A)(),{latestCoinCreated:J}=(0,el.L)(),{latestCoinCreatedBatched:K}=(0,ei.o)(),{latestReplyCreated:z}=(0,eS.V)({instance:eM.J.CORE}),{latestReplyCreatedBatched:V}=(0,eR.I)({instance:eM.J.CORE}),q="created_timestamp"===m,G="last_reply"===m,{latestMessage:H,error:$}=(0,eb.R)({url:"wss://prod-v2.nats.realtime.pump.fun",subject:"newCoinCreated.".concat("prod"),enabled:q}),{latestMessage:X,error:ee}=(0,eb.R)({url:"wss://prod-v2.nats.realtime.pump.fun",subject:"newReplyCreated.*.".concat("prod"),enabled:G}),es=(0,o.useRef)(null),[en,ed]=(0,o.useState)(null),{ipfsPrefix:eu}=(0,R.y)(),[ef,em]=(0,o.useState)(!1),[eh,ep]=(0,ew._)("show-animations",!0),[eg,e_]=(0,o.useState)(!1),[{y:eC}]=(0,ej.b)(),ek=ef||eg,eE=eh&&!ek;(0,o.useEffect)(()=>{eZ&&eC&&e_(eC>480)},[eC,eZ]);let{generateNewSession:eA,notifyPageOrFilterChange:eW}=(0,i.d)(),eB=function(e){let{forYouCoins:t,setForYouCoins:r,sort:s,showAnimations:n,areAnimationsPaused:a}=e,{isTestGroup:l}=ec("FEATURED v1.6"),[i,c]=(0,o.useState)([]),[d,u]=(0,o.useState)(null),[f,m]=(0,o.useState)(new Set),h=(0,o.useMemo)(()=>l?ev:ex,[l]),{trendingCoins:p,nonTrendingCoins:x,graduatedCoins:g,customForYouCoins:v}=(0,o.useMemo)(()=>h.getCategorisedCoinArrays(t),[h,t]),b=(0,o.useMemo)(()=>h.createCoinWeightMapping(t),[h,t]),y=()=>{r(e=>{let t=0,r=2*e.length,s=[],n=new Set,a=h.shouldSelectTrendingCoin(v.length,{isTestGroup:l}),i=p.length>0,o=x.length>0,d=e=>{n.has(e)||(s.push(e),n.add(e))};for(;s.length<e.length&&t<r;){if(a&&i){let e=h.selectRandomCoinByWeight(p,b,n);e&&d(e)}else if(!a&&o){let e=Math.random()<h.getGraduatedCoinSelectionProbability(v)?h.selectRandomCoinByWeight(g,b,n):h.selectRandomCoinByWeight(v,b,n);e&&d(e)}else break;t++}return(n.size<e.length&&e.forEach((e,t)=>{n.has(e)||(s.push(e),n.add(e))}),0===s.length&&e.length>0)?(console.warn("Shuffle produced empty array - falling back to current coins"),c(e),e):(c(s),s)})};(0,o.useEffect)(()=>{"featured"===s&&!n&&t.length>0&&t!==i&&y()},[s,t]);let j=(0,o.useCallback)(e=>{e&&(r(t=>{let r=t.filter(t=>t.mint!==e.mint);return[e,...r]}),u(e.mint),m(t=>new Set([e,...Array.from(t)].filter((e,t,r)=>t===r.findIndex(t=>t.mint===e.mint)).slice(0,5))),setTimeout(()=>u(""),300))},[r]),w=(0,o.useCallback)(()=>{let e;let t=h.shouldSelectTrendingCoin(v.length,{isTestGroup:l}),r=p.length>0,s=x.length>0;if(t&&r)e=h.selectRandomCoinByWeight(p,b,f);else if(!t&&s){let t=h.getGraduatedCoinSelectionProbability(v);e=g.length>0&&Math.random()<t?h.selectRandomCoinByWeight(g,b,f):h.selectRandomCoinByWeight(v,b,f)}e&&j(e)},[h,p,x,g,v,b,f,j]);return function(e,t){let r=(0,o.useRef)();(0,o.useEffect)(()=>{r.current=e},[e]),(0,o.useEffect)(()=>{if(null!==t){let e=setInterval(function(){r.current&&r.current()},t);return()=>clearInterval(e)}},[t])}(()=>{"featured"===s&&n&&!a&&w()},n?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return Math.max(300,e+t*(Math.random()-.5)*2)}(300,150):300),d}({forYouCoins:F,setForYouCoins:Z,sort:m,showAnimations:eh,areAnimationsPaused:ek});(0,o.useEffect)(()=>{T(0),eW()},[m,p]),(0,o.useEffect)(()=>{j&&""!==g.trim()&&y(!0)},[m,p,j]),(0,o.useEffect)(()=>{eA()},[]),(0,o.useEffect)(()=>{let e=Date.now();e-d>18e5&&!j?(h(eO),x(eF),u(e)):0!==d&&u(e)},[j]);let eY="last_trade_timestamp"===m,eU="currently_live"===m,eJ=J;(eY||eU)&&(eJ=B),(0,o.useEffect)(()=>{if(K){var e;try{return}catch(t){console.error("Error processing coin creation batch:",t,{rawData:K,subscribeData:K.subscribe,data:null===(e=K.subscribe)||void 0===e?void 0:e.data})}}},[K,ef]),(0,o.useEffect)(()=>{if(V)try{var e;let t=null===(e=V.subscribe)||void 0===e?void 0:e.data;if(!t)return;let r=JSON.parse(t);ek||function(e,t,r){try{if(!(null==e?void 0:e.messages)){console.error("Invalid batch data structure");return}let s=e.messages.map(e=>{try{let t="string"==typeof e.payload?JSON.parse(e.payload):e.payload;return t.coin||t}catch(e){return console.error("Error parsing message payload:",e),null}}).filter(e=>null!=e&&t(e,r));if(0===s.length)return;let{setCoins:n,setLastUpdatedMint:a}=r,l=s.reduce((e,t)=>eP(e,t,r),r.coins);n(l),a(s.map(e=>e.mint).join(",")),r.lastProcessedTrade.current=s[s.length-1],setTimeout(()=>a(""),700)}catch(e){console.error("Error processing batch:",e)}}(r,eD,{includeNsfw:D,sort:m,offset:A,order:p,showAnimations:eh,searchTerm:g,selectedFeed:P,coins:F,setCoins:Z,setLastUpdatedMint:ed,lastProcessedTrade:es,ipfsPrefix:eu,LIMIT:50})}catch(e){console.error("Error processing reply:",e)}},[V,ef]),(0,o.useEffect)(()=>{if(H)try{let e="string"==typeof H?JSON.parse(H):H;ek||eL(e,eI,{includeNsfw:D,sort:m,offset:A,order:p,showAnimations:eh,searchTerm:g,selectedFeed:P,coins:F,currentlyLiveSort:eU,bumpOrderSort:eY,creationTimeSort:q,setCoins:Z,setLastUpdatedMint:ed,lastProcessedTrade:es,ipfsPrefix:eu,LIMIT:50})}catch(e){console.error("Error processing reply:",e)}},[H,ek]),(0,o.useEffect)(()=>{if(X)try{let e="string"==typeof X?JSON.parse(X):X;if(!e.coin||e.hasLinks)return;let t=e.coin;ek||eL(t,eD,{includeNsfw:D,sort:m,offset:A,order:p,showAnimations:eh,searchTerm:g,selectedFeed:P,coins:F,setCoins:Z,setLastUpdatedMint:ed,lastProcessedTrade:es,ipfsPrefix:eu,LIMIT:50})}catch(e){console.error("Error processing NATS message batch:",e,{messageData:X})}},[X,ek]),(0,o.useEffect)(()=>{if(z){var e;let t=null===(e=z.subscribe)||void 0===e?void 0:e.data;if(!t)return;let r=JSON.parse(t);if(!(null==r?void 0:r.payload))return;let s=r.payload,n=JSON.parse(s);if(!(null==n?void 0:n.coin))return;let a=JSON.parse(s).coin;ek||eL(a,eD,{includeNsfw:D,sort:m,offset:A,order:p,showAnimations:eh,searchTerm:g,selectedFeed:P,coins:F,setCoins:Z,setLastUpdatedMint:ed,lastProcessedTrade:es,ipfsPrefix:eu,LIMIT:50})}},[z,ef]),(0,o.useEffect)(()=>{ek||eL(eJ,eI,{includeNsfw:D,sort:m,offset:A,order:p,showAnimations:eh,searchTerm:g,selectedFeed:P,coins:F,currentlyLiveSort:eU,bumpOrderSort:eY,creationTimeSort:q,setCoins:Z,setLastUpdatedMint:ed,lastProcessedTrade:es,ipfsPrefix:eu,LIMIT:50})},[eJ,D,m,p,A,g,eh,P,ef]);let eK=(e,t)=>{j||(S(m),C(p),w(!0),l(t),h("market_cap"))},ez=e=>{j&&(l(null),y(!1),w(!1),(null==e?void 0:e.skipSortReset)||(h((null==e?void 0:e.sort)||N),x(_)),v(""))},eV=(0,o.useCallback)(()=>{y(!1)},[]),eq=(0,o.useCallback)(()=>{ez()},[ez]),eG=(0,o.useCallback)(async(e,t)=>{e&&(j?(r(!0),l(n.SEARCH_BAR)):eK(e,n.SEARCH_BAR),await W(e,t))},[eK,W,t]),eH=async e=>{null===e||""===e?ez():(j&&(v(""),l(null)),eK(e,n.META_LIST),W(e))};return(0,a.jsxs)("div",{className:"grid h-fit md:gap-12 gap-4",children:[(0,a.jsx)(et,{}),(0,a.jsx)(ea,{fetchCoins:eG,setSearchTerm:v,searchTerm:g,onSearch:()=>{eW(),L(eN)},onClear:eq,shouldTriggerNewSearch:b,onSearchTriggered:eV,isSearchMode:j,searchSource:s}),(0,a.jsxs)("div",{className:"grid gap-6 md:gap-4 md:px-12 px-0",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-start md:items-center md:gap-2 max-w-full overflow-hidden",children:[(0,a.jsx)("div",{className:"m-0 p-0 md:w-auto",children:M&&(0,a.jsx)(k,{isSearchMode:j,searchTerm:g,sort:m,setSort:e=>{j&&"featured"===e?ez({sort:"featured"}):h(e)},order:p,setOrder:x,onClearSearch:eq,selectedFeed:P,setSelectedFeed:L,showAnimations:eh,setShowAnimations:ep,includeNsfw:D,setIncludeNsfw:I,feedOptions:[{label:"Following",value:"following"},{label:"Terminal",value:"terminal"}],searchSource:s,pauseAnimations:ek})}),e&&(0,a.jsx)("div",{className:"flex-1 overflow-hidden h-[72px]",children:(0,a.jsx)(eT,{onSearch:eH,clearMeta:t})})]}),(0,a.jsxs)("div",{className:"md:px-0 px-1",children:["following"===P&&(0,a.jsx)(Y,{}),(0,a.jsx)(f,{coins:F,lastUpdatedMint:"featured"===m?eB:en,loading:O,origin:"terminal",sort:m,pageNumber:A,areAnimationsEnabled:eE,onHover:em})]})]}),(0,a.jsx)(er,{offset:A,setOffset:e=>{Z([]),T(e),window.scrollTo(0,0),eA(),eW()},coins:F,LIMIT:50}),(0,a.jsx)(U.$,{})]})}},28349:function(e,t,r){"use strict";r.d(t,{$:function(){return a}});var s=r(57437),n=r(27648);r(2265);let a=e=>{let{reportParams:t}=e,r=new Date().getFullYear();return(0,s.jsx)("div",{className:"mt-auto py-4 text-gray-400 md:px-12 px-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between items-center gap-1 md:gap-0 relative",children:[(0,s.jsxs)("p",{className:"text-sm",children:["\xa9 pump.fun ",r]}),(0,s.jsxs)("div",{className:"text-sm md:absolute md:left-1/2 md:transform md:-translate-x-1/2 text-center",children:[(0,s.jsx)(n.default,{href:"/docs/privacy-policy",className:"underline",children:"Privacy Policy"})," | ",(0,s.jsx)(n.default,{href:"/docs/terms-and-conditions",className:"underline",children:"Terms of Service"})]}),t&&(0,s.jsx)(n.default,{prefetch:!1,rel:"noopener noreferrer",href:"/report/".concat(t.type,"/").concat(t.id),className:"text-sm",children:"Report"})]})})}},14241:function(e,t,r){"use strict";r.d(t,{V:function(){return f}});var s=r(57437),n=r(61252),a=r(2265),l=r(54559),i=r(10235),o=r(61994),c=r(20653),d=r(12574);let u=e=>{let{userAddress:t,getCaptchaToken:r}=e,{isFollowing:n,follow:a,unfollow:l}=(0,i.r)(t),c=async()=>{if(n)l();else{if(!r)return;a(await r("follow"))}};return(0,s.jsx)("button",{className:(0,o.Z)("px-3 rounded-full bg-green-300 border text-sm sm:text-base text-black h-fit",n&&"border border-slate-400 bg-slate-800 text-white",!n&&"border-transparent"),onClick:c,children:n?"Unfollow":"Follow"})},f=e=>{let{address:t,getCaptchaToken:r}=e,{mutuals:i,fetchMutuals:o,loading:f}=function(e){let[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)(!1),i=async()=>{e&&(n(!0),r(await fetch("".concat((0,l.o)(),"/following/mutuals/").concat(e)).then(e=>e.json()).finally(()=>n(!1))))};return(0,a.useEffect)(()=>{i()},[e]),{mutuals:t,fetchMutuals:i,loading:s}}(t);return i.length?(0,s.jsxs)("div",{className:"grid gap-1 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{children:"People you may know"}),(0,s.jsxs)("button",{className:"text-sm p-0 flex gap-1 items-center text-gray-500 hover:underline",onClick:()=>o(),disabled:f,children:["Refresh"," ",f?(0,s.jsx)(d.iT,{color:"white",height:16,width:16}):(0,s.jsx)(c.BGW,{className:"w-3 h-3"})]})]}),(0,s.jsx)("div",{className:"max-w-screen w-full flex gap-4 overflow-auto",children:i.map(e=>{let{username:t,profile_image:a,address:l,followers:i}=e;return(0,s.jsxs)("div",{className:"grid gap-2 min-w-[120px] max-w-[200px]",children:[(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsx)(n.UserPreview,{username:t,profile_image:a,address:l}),(0,s.jsxs)("div",{className:"text-slate-400 whitespace-nowrap",children:[i||0," followers"]})]}),(0,s.jsx)(u,{userAddress:l,getCaptchaToken:r})]},l)})})]}):null}},61252:function(e,t,r){"use strict";r.d(t,{UserPreview:function(){return d}});var s=r(57437),n=r(94508),a=r(90225),l=r(88788),i=r(61994),o=r(27648),c=r(5753);let d=e=>{let{username:t,profile_image:r,address:d,devAddress:u,withBackground:f,big:m}=e,{ipfsPrefix:h}=(0,a.y)(),p=(0,n.Py)(r,h),x=(0,l.Q)((null==d?void 0:d.slice(0,6))||"anon");return(0,s.jsx)(o.default,{href:"/profile/".concat(t||d),children:(0,s.jsxs)("span",{className:"flex gap-1  items-center",children:[(0,s.jsx)(c.default,{src:p,width:m?64:16,height:m?64:16,alt:"",className:(0,i.Z)("rounded",m?"w-16":"w-4 h-4")}),(0,s.jsxs)("span",{className:(0,i.Z)("px-1 rounded hover:underline flex gap-1",f&&"text-black"),style:{backgroundColor:f?x:"transparent"},children:[t||(null==d?void 0:d.slice(0,6))||"anon"," ",u&&d.toLowerCase()===u.toLowerCase()&&"(dev)"]})]})})}},95186:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var s=r(57437),n=r(2265),a=r(94508);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...l})});l.displayName="Input"},36510:function(e,t,r){"use strict";r.d(t,{L:function(){return l}});var s=r(27771),n=r(9659),a=r(2265);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.J.CORE,[t,r]=(0,a.useState)(null),[l,i]=(0,a.useState)(null);return(0,s.q)(e),{latestCoinCreated:t,error:l}}},94743:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var s=r(27771),n=r(9659),a=r(76903),l=r(2265),i=r(70080);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.J.CORE,[t,r]=(0,l.useState)(null),[o,c]=(0,l.useState)(null),d=(0,l.useMemo)(()=>(0,s.q)(e),[e]),u=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{if(u.current)return;let t="newCoinCreated-batched";console.log("Subscribing to",t),u.current=!0;let s=!0,n=e=>{var t;s&&(null==e?void 0:null===(t=e.subscribe)||void 0===t?void 0:t.data)&&r(e)},l=d.subscribe({query:(0,i.Ps)(a.L),variables:{name:t}}).subscribe({next:e=>{let{data:t}=e;t&&n(t)},error:t=>{console.error("Subscription error for instance ".concat(e,":"),t),s&&(c(t),u.current=!1)}});return()=>{s=!1,l&&(l.unsubscribe(),u.current=!1)}},[d,e]),{latestCoinCreatedBatched:t,error:o}}},69272:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var s=r(94508),n=r(90225),a=r(54559),l=r(2265);let i=e=>{let{sort:t,order:r,offset:i,limit:o,includeNsfw:c,creator:d,isSearchMode:u=!1}=e,[f,m]=(0,l.useState)([]),[h,p]=(0,l.useState)(!1),{ipfsPrefix:x}=(0,n.y)(),g=async(e,n)=>{p(!0),t="featured"===t?"market_cap":t;let l="offset=".concat(i,"&limit=").concat(o,"&sort=").concat(t,"&order=").concat(r,"&includeNsfw=").concat(c);e&&(l+="&searchTerm=".concat(encodeURIComponent(e))),n&&(l+="&captchaToken=".concat(encodeURIComponent(n))),d&&(l+="&creator=".concat(d)),m((await fetch("".concat((0,a.o)(),"/coins?").concat(l)).then(e=>e.json())).map(t=>(t.image_uri=(0,s.Py)(t.image_uri,x),t.metadata_uri=t.metadata_uri&&(0,s.Py)(t.metadata_uri,x),e&&n&&(t.searchTerm=e),t))),p(!1)},v=async()=>{p(!0);try{let e="offset=".concat(i,"&limit=").concat(o,"&sort=").concat(t,"&order=").concat(r,"&includeNsfw=").concat(c),n=(await fetch("".concat((0,a.o)(),"/coins/currently-live?").concat(e)).then(e=>e.json())).map(e=>(e.image_uri=(0,s.Py)(e.image_uri,x),e.metadata_uri=e.metadata_uri&&(0,s.Py)(e.metadata_uri,x),e));m(n)}catch(e){}finally{p(!1)}},b=async()=>{p(!0);let e="offset=".concat(i,"&limit=").concat(o,"&includeNsfw=").concat(c);try{let t=await fetch("".concat((0,a.o)(),"/coins/for-you?").concat(e)).then(e=>e.json());if(!Array.isArray(t))throw Error("Invalid for-you response format");let r=t.map(e=>(e.image_uri&&(e.image_uri=(0,s.Py)(e.image_uri,x)),e.metadata_uri&&(e.metadata_uri=e.metadata_uri&&(0,s.Py)(e.metadata_uri,x)),e));m(r)}catch(e){console.error("Failed to fetch for-you coins:",e),m([])}finally{p(!1)}};return(0,l.useEffect)(()=>{"currently_live"===t?v():"featured"===t?b():u||g()},[t,r,x,i,o,c,u]),{coins:f,setCoins:m,loading:h,fetchCoins:g}}},10235:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var s=r(72650),n=r(54559),a=r(2265);let l=e=>{let{address:t,decodedJwt:r}=(0,s.U)(),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),d=async t=>{r&&(i(!0),await fetch("".concat((0,n.o)(),"/following/").concat(e,"?captchaToken=").concat(encodeURIComponent(t)),{method:"POST",credentials:"include"}),u())},u=async()=>{if(!e||!t)return;let{follow:r}=await fetch("".concat((0,n.o)(),"/following/single/").concat(e,"?userId=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json());i(!!r)},f=async()=>{if(!e||!t)return;let{follow:r}=await fetch("".concat((0,n.o)(),"/following/single/").concat(t,"?userId=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json());c(!!r)},m=async()=>{r&&(i(!1),await fetch("".concat((0,n.o)(),"/following/").concat(e),{method:"DELETE",credentials:"include"}),u())};return(0,a.useEffect)(()=>{u(),f()},[e,t]),{fetchIsFollowing:u,follow:d,unfollow:m,isFollowing:l,isFollowedBack:o}}},1708:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var s=r(2265),n=r(88571);let a=e=>{let{url:t,subject:r,throttleMs:a=100,retryIntervalMs:l=2e3,maxRetryAttempts:i=5,enabled:o=!0}=e,[c,d]=(0,s.useState)(null),[u,f]=(0,s.useState)(null),m=(0,s.useRef)(null),h=(0,s.useRef)(null),p=(0,s.useRef)(0),x=(0,s.useRef)(null),g=(0,s.useRef)([]),v=(0,s.useRef)(!0),b=(0,s.useRef)(0),y=(0,s.useCallback)(()=>{v.current&&(null!==x.current&&cancelAnimationFrame(x.current),x.current=requestAnimationFrame(()=>{if(g.current.length>0){let e=Date.now();e-p.current>=a&&(d(g.current.pop()),p.current=e),g.current=[]}}))},[a]),j=(0,s.useCallback)(async()=>{if(o)try{f(null),console.log("Attempting to connect to NATS...");let e=await (0,n.$j)({servers:t,user:"subscriber",pass:"lW5a9y20NceF6AE9",timeout:1e4,waitOnFirstConnect:!0,reconnect:!0,reconnectTimeWait:l,maxReconnectAttempts:i});m.current=e,b.current=0,console.log("âœ… Connected to NATS at ".concat(t));let s=e.subscribe(r);h.current=s,console.log("Subscribed to NATS subject: ".concat(r)),(async()=>{for await(let e of s){if(!v.current)return;try{let t=(0,n.bq)().decode(e.data);g.current.push(t),y()}catch(e){console.error("Failed to decode message:",e)}}})().catch(e=>{console.error("Subscription error:",e),f(e)}),e.closed().then(e=>{v.current&&(e?(console.error("NATS connection closed with error:",e),f(e),w()):console.log("NATS connection closed gracefully."))})}catch(e){console.error("NATS connection failed:",e),f(e),w()}},[t,r,l,i,y,o]),w=(0,s.useCallback)(()=>{if(b.current>=i){console.error("Max retry attempts reached. Giving up on reconnecting.");return}let e=l*2**b.current;b.current+=1,console.log("Retrying connection in ".concat(e,"ms (Attempt ").concat(b.current,"/").concat(i,")...")),setTimeout(()=>{v.current&&j()},e)},[l,i,j]),N=(0,s.useCallback)(()=>{var e,t;v.current&&(console.log("Manually reconnecting to NATS..."),null===(e=h.current)||void 0===e||e.unsubscribe(),h.current=null,null===(t=m.current)||void 0===t||t.close(),m.current=null,j())},[j]);return(0,s.useEffect)(()=>{let e=()=>{console.log("Cleaning up NATS subscription..."),v.current=!1,null!==x.current&&(cancelAnimationFrame(x.current),x.current=null),h.current&&(h.current.unsubscribe(),h.current=null),m.current&&(m.current.close(),m.current=null),d(null),f(null),g.current=[],p.current=0,b.current=0};return o?(v.current=!0,j()):e(),()=>{e()}},[j,o]),{latestMessage:c,error:u,reconnect:N}}},40394:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var s=r(72694);function n(e){let[t,r]=(0,s._)("include-nsfw",e);return{includeNsfw:t,setIncludeNsfw:r}}},32648:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});var s=r(76903),n=r(2265),a=r(70080),l=r(27771);let i=e=>{let{instance:t,mintId:r}=e,[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),u=(0,n.useMemo)(()=>(0,l.q)(t),[t]),f=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(f.current)return;let e="newReplyCreated"+(r?"Coin".concat(r):"");console.log("Subscribing to",e),f.current=!0;let n=!0,l=e=>{n&&o(e)},i=u.subscribe({query:(0,a.Ps)(s.L),variables:{name:e}}).subscribe({next:e=>{let{data:t}=e;t&&l(t)},error:e=>{console.error("Subscription error for instance ".concat(t,":"),e),n&&(d(e),f.current=!1)}});return()=>{n=!1,i&&(i.unsubscribe(),f.current=!1)}},[u,t,r]),{latestReplyCreated:i,error:c}}},20691:function(e,t,r){"use strict";r.d(t,{I:function(){return a}}),r(76903);var s=r(2265);r(70080);var n=r(27771);let a=e=>{let{instance:t,mintId:r}=e,[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),c=(0,s.useMemo)(()=>(0,n.q)(t),[t]);return(0,s.useRef)(!1),(0,s.useEffect)(()=>{console.log("NATS is enabled, skipping AppSync subscription.")},[c,t,r]),{latestReplyCreatedBatched:a,error:i}}},18976:function(e,t,r){"use strict";r.d(t,{A:function(){return a}});var s=r(93863),n=r(2265);let a=()=>{let[e,t]=(0,n.useState)(null),r=(0,s.s)();return(0,n.useEffect)(()=>{if(!r)return;let e=e=>{t(e)};return r.on("tradeCreated",e),()=>{r.off("tradeCreated",e)}},[r]),{latestTrade:e}}},27771:function(e,t,r){"use strict";r.d(t,{q:function(){return f}});var s=r(27412),n=r(56609),a=r(51587),l=r(66117),i=r(96749),o=r(17173),c=r(9659);let d={[c.J.ADVANCE]:{endpoint:"https://cvibx7pkrzevzesvdixnjd6zri.appsync-api.eu-west-1.amazonaws.com/graphql",region:"eu-west-1",apiKey:"da2-oxv3eh7osnd5pbsj7rhcxu5dou"},[c.J.CORE]:{endpoint:"https://prod.realtime.pump.fun/graphql",region:"us-east-1",apiKey:"da2-xolgs5smfnfqtbevb3o2uo2rpi"}},u={},f=e=>{if(u[e])return u[e];let t=d[e],r=(0,s.L)({uri:t.endpoint}),c=(0,i.createAuthLink)({url:t.endpoint,region:t.region,auth:{type:"API_KEY",apiKey:t.apiKey}}),f=(0,o.createSubscriptionHandshakeLink)({url:t.endpoint,region:t.region,auth:{type:"API_KEY",apiKey:t.apiKey}}),m=(0,n.V)(e=>{let{query:t}=e,r=t.definitions[0];return"OperationDefinition"===r.kind&&"subscription"===r.operation},f,c.concat(r)),h=new a.f({link:m,cache:new l.h});return u[e]=h,h}},9659:function(e,t,r){"use strict";r.d(t,{J:function(){return s}});let s={ADVANCE:"advance",CORE:"core"}},93863:function(e,t,r){"use strict";r.d(t,{SocketProvider:function(){return d},s:function(){return c}});var s=r(57437),n=r(54559),a=r(53974),l=r(2265),i=r(68680);let o=(0,l.createContext)(null),c=()=>(0,l.useContext)(o),d=e=>{let{children:t}=e,r=(0,a.O_)(),c=(0,l.useMemo)(()=>r?(0,i.ZP)((0,n.o)()||"",{transports:["websocket"]}):null,[r]);return(0,s.jsx)(o.Provider,{value:c,children:t})}},76903:function(e,t,r){"use strict";r.d(t,{L:function(){return s}});let s="subscription Subscribe($name: String!) {\n  subscribe(name: $name) {\n    name\n    data\n    __typename\n  }\n}\n"},15452:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var s=r(64024);let n=e=>e.toNumber()/s.LAMPORTS_PER_SOL}},function(e){e.O(0,[3814,8310,9571,7148,2864,6530,7110,6137,2972,935,8001,2694,7917,6008,5726,3974,346,8680,7173,1199,1846,3485,5960,6022,2971,2117,1744],function(){return e(e.s=96794)}),_N_E=e.O()}]);