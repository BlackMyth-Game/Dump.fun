"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6022],{55693:function(e,t,a){a.d(t,{C:function(){return s}});var n=a(57437),r=a(57054);function s(e){let{content:t,popoverText:a}=e;return(0,n.jsx)("div",{onClick:e=>{console.log("clicked",e),e.stopPropagation(),e.preventDefault()},children:(0,n.jsxs)(r.J2,{children:[(0,n.jsx)(r.xo,{asChild:!0,children:(0,n.jsx)("div",{className:"cursor-pointer hover:opacity-7",children:t})}),(0,n.jsx)(r.yk,{className:"w-fit bg-black p-2 text-white",children:(0,n.jsx)("p",{className:"text-sm leading-none",children:a})})]})})}},63799:function(e,t,a){a.d(t,{CoinPreview:function(){return w}});var n=a(57437),r=a(99647),s=a(2265),i=a(86083),o=a(72650),l=(e,t,a)=>{let n=(0,s.useRef)(null),{observe:r,unobserve:l,addSeenCoin:d}=(0,i.d)(),{decodedJwt:c}=(0,o.U)(),u=(0,s.useCallback)(()=>{n.current&&void 0!==t&&r(n.current,e,()=>{d({coinId:e,itemPosition:t.itemPosition,screenWidth:t.screenWidth,origin:t.origin,sortBy:t.sortBy,wasAnimationOn:t.wasAnimationOn,sessionId:t.sessionId,pageNumber:t.pageNumber,marketCap:t.marketCap,createdAt:new Date().toISOString(),forYouData:t.forYouData,searchTerm:a})})},[e,t,a,r,d]);return(0,s.useEffect)(()=>{if(c)return u(),()=>{n.current&&l(n.current)}},[c,u,l]),n},d=a(94508),c=a(71589),u=a(51737),f=a(25103),h=a(33145),x=a(27648),p=a(91846),m=a.n(p),g=a(55693),v=a(5753),b=a(24569);let w=e=>{let{coin:t,shouldAnimate:a,impression:s,isInViewport:o}=e,{name:p,symbol:w,description:k,image_uri:j,video_uri:y,mint:N,creator:C,king_of_the_hill_timestamp:S,raydium_pool:z,reply_count:F,creator_profile_image:D,creator_username:E,is_currently_live:_,searchTerm:B,created_timestamp:P}=t,{handleCoinClick:A}=(0,r.Z)(),{setLastClickImpression:W}=(0,c.s)(),{logSeenCoins:$}=(0,i.d)(),I=async()=>{s&&(W(N,s,B),await A(N,s,B),await $())},R=l(N,s,B);return(0,n.jsx)(x.default,{href:"/coin/".concat(N),onClick:I,children:(0,n.jsxs)("div",{ref:R,className:"max-h-[300px] overflow-hidden h-fit p-2 flex border hover:border-white gap-2 w-full ".concat(a?"animate-shake":""," ").concat(_?"border-2 border-green-300 rounded-lg":"border-transparent"),children:[(0,n.jsx)("div",{className:"min-w-32 relative self-start",children:y?o?(0,n.jsx)(m(),{url:"https://s3.amazonaws.com/media.pump.fun/videos/"+y.split("/").pop(),width:128,height:128,controls:!0,muted:!0,loop:!0,playing:!0,playsinline:!0}):(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute top-1 left-1 p-1 bg-black opacity-75 text-white rounded text-xs",children:"Video"}),(0,n.jsx)("div",{className:"p-1 bg-black opacity-75 rounded text-xs w-fit absolute top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%]",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 15 15",fill:"none",stroke:"#86EFAC",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})})})]}),(0,n.jsx)(v.default,{width:128,height:128,className:"mr-4 w-32 h-auto",src:j||d.WE,alt:p})]}):(0,n.jsx)(v.default,{width:128,height:128,className:"mr-4 w-32 h-auto",src:j||d.WE,alt:p})}),(0,n.jsxs)("div",{className:"gap-1 grid h-fit",children:[_&&(0,n.jsx)("div",{className:"w-fit px-1 bg-green-300 text-green-800 text-xs font-bold rounded dark:bg-red-900 dark:text-red-300",children:"Currently live streaming!"}),(0,n.jsxs)("div",{className:"text-xs text-blue-200 flex flex-wrap items-center gap-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("div",{children:"created by"}),(0,n.jsx)(b.R,{username:E,profile_image:D,address:C})]}),(0,n.jsx)("span",{className:"w-full md:w-auto",children:(0,f.n)(P,{shorthand:!0,strict:!0})})]}),(0,n.jsxs)("div",{className:"text-xs text-green-300 flex gap-1",children:["market cap: $"+(0,u.u)(t.usd_market_cap),(S||z)&&(0,n.jsxs)("div",{className:"flex text-green-500",children:["["," ",z&&(0,n.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(g.C,{content:(0,n.jsx)(h.default,{src:"/migrated.png",alt:"raydium badge",width:18,height:18}),popoverText:"raydium badge"})}),S&&(0,n.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,n.jsx)(g.C,{content:(0,n.jsx)(h.default,{src:"/king.png",alt:"king of the hill badge",width:18,height:18}),popoverText:"king of the hill badge"})}),"]"]})]}),(0,n.jsxs)("p",{className:"text-xs flex items-center gap-2",children:["replies: ",F||0,t.nsfw&&(0,n.jsx)("span",{className:"text-red-400",children:"[NSFW]"})]}),(0,n.jsxs)("p",{className:"text-sm w-full",style:{overflowWrap:"break-word",wordBreak:"break-all"},children:[(0,n.jsxs)("span",{className:"font-bold",children:[p," (",w,"):"," "]}),k]})]})]})})}},5753:function(e,t,a){a.d(t,{default:function(){return o}});var n=a(57437),r=a(33145),s=a(2265);let i=e=>{let{width:t=100,height:a=100,color:r="#666",background:s="#ccc",fontSize:i="20",text:o,className:l}=e,d=o||"".concat(t,"x").concat(a),c=encodeURIComponent('\n    <svg width="'.concat(t,'" height="').concat(a,'" xmlns="http://www.w3.org/2000/svg">\n      <rect width="100%" height="100%" fill="').concat(s,'" stroke="').concat(r,'" />\n      <text x="50%" y="50%" dominant-baseline="middle" font-family="-apple-system, Inter, sans-serif" text-anchor="middle" fill="').concat(r,'" font-size="').concat(i,'" font-size-adjust="0.58" >\n        ').concat(d,"\n      </text>\n\n    </svg>\n\n"));return(0,n.jsx)("img",{className:l,src:"data:image/svg+xml;charset=UTF-8,".concat(c),alt:"".concat(t,"x").concat(a," placeholder")})};var o=e=>{let[t,a]=(0,s.useState)(!1),o="".concat(e.src,"?img-width=").concat(e.width,"&img-dpr=2&img-onerror=redirect"),[l,d]=(0,s.useState)(o);return(0,s.useEffect)(()=>{d(o)},[e]),(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)(i,{className:e.className||"",width:e.width||100,height:e.height||100,text:"Unable to display image",fontSize:"65%",background:"transparent"}):(0,n.jsx)(r.default,{...e,src:l,unoptimized:!0,onError:()=>{d(e.src),l===e.src&&a(!0)},style:{display:t?"none":"block"}})})}},24569:function(e,t,a){a.d(t,{R:function(){return c}});var n=a(57437),r=a(94508),s=a(90225),i=a(88788),o=a(61994),l=a(99376),d=a(5753);let c=e=>{let{username:t,profile_image:a,address:c,devAddress:u,withBackground:f}=e,h=(0,l.useRouter)(),{ipfsPrefix:x}=(0,s.y)(),p=(0,r.Py)(a,x),m=(0,i.Q)((null==c?void 0:c.slice(0,6))||"anon"),g=e=>{e.preventDefault(),e.ctrlKey||e.metaKey?window.open("/profile/".concat(t||c),"_blank","noopener"):h.push("/profile/".concat(t||c))};return(0,n.jsx)("button",{type:"button",onClick:e=>g(e),children:(0,n.jsxs)("span",{className:"flex  items-center",children:[(0,n.jsx)(d.default,{src:p,width:16,height:16,alt:"",className:"w-4 h-4 rounded"}),(0,n.jsxs)("span",{className:(0,o.Z)("px-1 rounded hover:underline flex gap-1",f&&"text-black"),style:{backgroundColor:f?m:"transparent"},children:[t||(null==c?void 0:c.slice(0,6))||"anon"," ",u&&c.toLowerCase()===u.toLowerCase()&&"(dev)"]})]})})}},62869:function(e,t,a){a.d(t,{z:function(){return d}});var n=a(57437),r=a(2265),s=a(37053),i=a(77712),o=a(94508);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:r,size:i,className:a})),ref:t,...c})});d.displayName="Button"},57054:function(e,t,a){a.d(t,{J2:function(){return o},QH:function(){return d},xo:function(){return l},yk:function(){return c}});var n=a(57437),r=a(27312),s=a(2265),i=a(94508);let o=r.fC,l=r.xz,d=r.Eh,c=s.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:o=4,...l}=e;return(0,n.jsx)(r.h_,{children:(0,n.jsx)(r.VY,{ref:t,align:s,sideOffset:o,className:(0,i.cn)("z-50 w-72 rounded-md border border-slate-200 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",a),...l})})});c.displayName=r.VY.displayName},94508:function(e,t,a){a.d(t,{Py:function(){return o},WE:function(){return i},_o:function(){return d},cn:function(){return s},i$:function(){return l}});var n=a(61994),r=a(53335);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}let i="https://cf-ipfs.com/ipfs/QmeSzchzEPqCU1jwTnsipwcBAeH7S4bmVvFGfF65iA1BY1",o=(e,t)=>(e||i).replace(/https:\/\/[^/]+\/ipfs\//,t);function l(e,t){let a=new Date(e);return new Intl.DateTimeFormat("en-GB",t||{dateStyle:"short",timeStyle:"short"}).format(a)}function d(){let e=Date.now();return{soft:e+144e5,normal:e+432e6,perma:e+864e9}}},51737:function(e,t,a){a.d(t,{H:function(){return r},u:function(){return n}});let n=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):"".concat(e.toFixed(0)),r=e=>e>=1e3?"$".concat((e/1e3).toFixed(1),"k"):"$".concat(e.toFixed(0))},88788:function(e,t,a){a.d(t,{Q:function(){return n}});let n=e=>{let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t),t&=t;let a=(t=Math.abs(t))%128+127,n=(t>>8)%128+127,r=(t>>16)%128+127;return"#".concat(a.toString(16).padStart(2,"0")).concat(n.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0"))}},25103:function(e,t,a){a.d(t,{n:function(){return s}});var n=a(6118),r=a(51233);let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{shorthand:a=!1,strict:s=!1}=t,i=new Date(e);if(isNaN(i.getTime()))return"";let o=s?(0,n.D)(i,{addSuffix:!0}):(0,r.Q)(i,{addSuffix:!0});return a?o.replace(/(\d+) days?/,"$1d").replace(/(\d+) hours?/,"$1h").replace(/(\d+) minutes?/,"$1m").replace(/(\d+) seconds?/,"$1s"):o}}}]);